<!DOCTYPE html>
<html>
<head>
    <style>
        .maze-container {
            margin: 20px;
        }
        
        .maze-row {
            display: flex;
            height: 20px;
        }
        
        .maze-cell {
            width: 20px;
            height: 20px;
            border: 1px solid #eee;
        }
        
        .wall {
            background-color: #333;
        }
        
        .start {
            background-color: #4CAF50;
        }
        
        .end {
            background-color: #f44336;
        }
    </style>
</head>
<body>
    <div class="maze-container" id="mazeContainer"></div>

    <script>
        // Sample data from API
        const mazeData = {
            "_id": {"$oid": "671b696a3e8e0e1bc2574972"},
            "startx": {"$numberInt": "10"},
            "starty": {"$numberInt": "15"},
            "sizex": {"$numberInt": "50"},
            "sizey": {"$numberInt": "50"},
            "endx": {"$numberInt": "5"},
            "endy": {"$numberInt": "5"},
            "wallarray": "[[1, 2], [3, 4], [5, 6]]",
            "__v": {"$numberInt": "0"}
        };

        function createMaze(data) {
            // Convert string wall array to actual array
            const walls = JSON.parse(data.wallarray);
            
            // Create maze grid
            const maze = Array(parseInt(data.sizey.$numberInt))
                .fill()
                .map(() => Array(parseInt(data.sizex.$numberInt)).fill(0));
            
            // Add walls
            walls.forEach(([y, x]) => {
                if (y < maze.length && x < maze[0].length) {
                    maze[y][x] = 1;
                }
            });

            // Add start and end points
            const startX = parseInt(data.startx.$numberInt);
            const startY = parseInt(data.starty.$numberInt);
            const endX = parseInt(data.endx.$numberInt);
            const endY = parseInt(data.endy.$numberInt);

            // Generate maze HTML
            const container = document.getElementById('mazeContainer');
            
            // Calculate display size (scaled down for visibility)
            const displayWidth = Math.min(window.innerWidth - 40, maze[0].length * 20);
            const cellSize = Math.floor(displayWidth / maze[0].length);
            container.style.width = `${maze[0].length * cellSize}px`;

            maze.forEach((row, y) => {
                const rowDiv = document.createElement('div');
                rowDiv.className = 'maze-row';
                rowDiv.style.height = `${cellSize}px`;

                row.forEach((cell, x) => {
                    const cellDiv = document.createElement('div');
                    cellDiv.className = 'maze-cell';
                    cellDiv.style.width = `${cellSize}px`;
                    cellDiv.style.height = `${cellSize}px`;

                    if (x === startX && y === startY) {
                        cellDiv.classList.add('start');
                    } else if (x === endX && y === endY) {
                        cellDiv.classList.add('end');
                    } else if (cell === 1) {
                        cellDiv.classList.add('wall');
                    }

                    rowDiv.appendChild(cellDiv);
                });

                container.appendChild(rowDiv);
            });
        }

        // Initialize maze when page loads
        window.onload = () => createMaze(mazeData);
    </script>
</body>
</html>